<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M.A.T.L. 'Infinite Money Glitch' - Interactive Risk Analyzer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral Harmony -->
    <!-- Application Structure Plan: The application uses a thematic, narrative structure to guide the user from the guide's initial promise to a data-driven understanding of its risks. It starts with an overview of the "glitch," moves to an interactive simulator where users can test variables (the core interactive element), then presents a clear breakdown of unaddressed risks, and concludes with actionable, safer alternatives. This structure was chosen over mirroring the report's layout because it creates a journey of discovery, making the complex financial analysis more intuitive and impactful for the target audience of "everyday people." -->
    <!-- Visualization & Content Choices: The application uses Chart.js for all visualizations, rendered on canvas, adhering to the NO SVG/Mermaid constraint. Choices include: 1) The "Glitch" loop diagram (Goal: Organize) uses styled HTML/Tailwind to introduce the concept. 2) The core interactive simulator (Goal: Compare/Relationships) uses a dynamic bar chart to show how real-world costs erode the idealized profit. 3) Risk section charts (Goal: Compare/Inform), like the bar chart for loan APRs and a donut chart for tax impact, break down complex risks into simple visuals. 4) The "Smarter Approach" section uses bar charts to compare fund recommendations (Goal: Compare). This multi-faceted approach ensures each key insight from the source report is translated into the most effective and understandable interactive format. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F7F4;
            color: #333333;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .nav-link {
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: #007BFF;
        }
        .slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #007BFF;
            cursor: pointer;
            border-radius: 50%;
        }
        .slider-track {
            width: 100%;
            height: 8px;
            cursor: pointer;
            background: #E9ECEF;
            border-radius: 4px;
        }
        .calculator-iframe {
            width: 100%;
            height: 600px; /* Adjust height as needed */
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="text-xl font-bold text-gray-800">M.A.T.L. Risk Analyzer</div>
            <div class="hidden md:flex space-x-8">
                <a href="#simulator" class="nav-link text-gray-600">Simulator</a>
                <a href="#risks" class="nav-link text-gray-600">Hidden Risks</a>
                <a href="#recommendations" class="nav-link text-gray-600">A Smarter Approach</a>
                <a href="#calculator-section" class="nav-link text-gray-600">Calculator</a>
                <a href="https://github.com/ASPH002/matl-risk-analyzer/blob/main/MATL.html" target="_blank" class="nav-link text-gray-600">Deconstructing the 'Infinite Money Glitch'</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-6 md:p-8">

        <section id="introduction" class="text-center mb-16 md:mb-24">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-4">The "Infinite Money Glitch"</h1>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto mb-8">The M.A.T.L. guide proposes a simple 5-step loop to build wealth with Bitcoin and debt. This application lets you look under the hood to see if the "glitch" holds up to reality.</p>
            <div class="max-w-4xl mx-auto p-6 bg-white rounded-2xl shadow-lg">
                <div class="grid grid-cols-1 md:grid-cols-5 items-center gap-4 text-center">
                    <div class="p-4">
                        <div class="text-3xl font-bold text-blue-600 mb-2">①</div>
                        <h3 class="font-bold">Get Capital</h3>
                        <p class="text-sm text-gray-500">Borrow or Earn</p>
                    </div>
                    <div class="text-2xl text-gray-300 hidden md:block">→</div>
                    <div class="p-4">
                        <div class="text-3xl font-bold text-blue-600 mb-2">②</div>
                        <h3 class="font-bold">Buy BTC</h3>
                        <p class="text-sm text-gray-500">Accumulate Asset</p>
                    </div>
                    <div class="text-2xl text-gray-300 hidden md:block">→</div>
                    <div class="p-4">
                        <div class="text-3xl font-bold text-blue-600 mb-2">③</div>
                        <h3 class="font-bold">Hold & Wait</h3>
                        <p class="text-sm text-gray-500">Await Appreciation</p>
                    </div>
                    <div class="text-2xl text-gray-300 hidden md:block transform md:rotate-90 mt-4 md:mt-0">→</div>
                    <div class="p-4 md:col-start-5">
                        <div class="text-3xl font-bold text-blue-600 mb-2">④</div>
                        <h3 class="font-bold">Take Profit</h3>
                        <p class="text-sm text-gray-500">Repay Loan</p>
                    </div>
                    <div class="text-2xl text-gray-300 hidden md:block transform -rotate-90 md:col-start-4 md:row-start-1">→</div>
                    <div class="p-4 md:col-start-3 md:row-start-2">
                        <div class="text-3xl font-bold text-blue-600 mb-2">⑤</div>
                        <h3 class="font-bold">Repeat</h3>
                        <p class="text-sm text-gray-500">Restart Cycle</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="simulator" class="mb-16 md:mb-24 bg-white p-6 md:p-8 rounded-2xl shadow-xl">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Interactive Scenario Simulator</h2>
                <p class="text-gray-600 max-w-2xl mx-auto mt-2">The guide's example assumes a 60% Bitcoin gain and ignores costs. Use the sliders and toggles below to see how real-world variables change the outcome.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
                <div class="lg:col-span-1 space-y-6">
                    <div>
                        <label for="btcPerformance" class="font-semibold text-gray-700">Bitcoin Performance</label>
                        <input type="range" id="btcPerformance" min="-50" max="100" value="60" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        <div class="text-center text-lg font-bold text-blue-600 mt-2"><span id="btcPerformanceValue">60</span>%</div>
                    </div>
                    <div>
                        <label for="loanApr" class="font-semibold text-gray-700">Loan Interest Rate (APR)</label>
                        <input type="range" id="loanApr" min="3" max="20" value="6" step="0.1" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        <div class="text-center text-lg font-bold text-blue-600 mt-2"><span id="loanAprValue">6.0</span>%</div>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between bg-gray-100 p-3 rounded-lg">
                            <label for="includeFees" class="font-semibold text-gray-700">Include Transaction Fees (0.5%)</label>
                            <input type="checkbox" id="includeFees" class="h-6 w-6 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                        </div>
                        <div class="flex items-center justify-between bg-gray-100 p-3 rounded-lg">
                            <label for="includeTax" class="font-semibold text-gray-700">Include UK Capital Gains Tax</label>
                            <input type="checkbox" id="includeTax" class="h-6 w-6 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-2">
                    <div class="chart-container"><canvas id="scenarioChart"></canvas></div>
                    <div id="profitResult" class="mt-4 text-center text-2xl md:text-3xl font-bold p-4 rounded-lg"></div>
                </div>
            </div>
        </section>

        <section id="risks" class="mb-16 md:mb-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">The Hidden Risks</h2>
                <p class="text-gray-600 max-w-2xl mx-auto mt-2">The "glitch" narrative conveniently omits several critical risks. Understanding these is essential before considering such a strategy.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h3 class="text-xl font-bold mb-3">Market Volatility: The Double-Edged Sword</h3>
                    <p class="text-gray-600 mb-4">The strategy relies on price growth, but leverage amplifies losses just as much as gains. A market downturn can quickly turn the "glitch" into a debt trap.</p>
                    <div class="chart-container h-64"><canvas id="volatilityChart"></canvas></div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h3 class="text-xl font-bold mb-3">The True Cost of Debt</h3>
                    <p class="text-gray-600 mb-4">"Low-interest" loans aren't guaranteed. As the report shows, smaller loans for beginners often carry much higher interest rates, making profits harder to achieve.</p>
                    <div class="chart-container h-64"><canvas id="loanRatesChart"></canvas></div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h3 class="text-xl font-bold mb-3">Liquidation: The Ultimate Risk</h3>
                    <p class="text-gray-600 mb-4">If you borrow against your Bitcoin and the price drops, the platform can forcibly sell your assets at a loss to cover the loan. This is a liquidation event, and you lose your collateral permanently, contradicting the guide's promise of "keeping the asset."</p>
                    <div class="bg-red-50 border border-red-200 rounded-lg p-4 text-center">
                        <div class="text-5xl font-black text-red-500">!</div>
                        <p class="font-semibold mt-2 text-red-800">Total Capital Loss Possible</p>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h3 class="text-xl font-bold mb-3">The Tax Burden</h3>
                    <p class="text-gray-600 mb-4">Selling Bitcoin to take profit is a taxable event in the UK. This "hidden cost" is ignored by the guide but significantly reduces any real gains.</p>
                    <div class="chart-container h-64"><canvas id="taxImpactChart"></canvas></div>
                </div>
            </div>
        </section>
        
        <section id="recommendations" class="bg-white p-6 md:p-8 rounded-2xl shadow-xl">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">A Smarter, Safer Approach</h2>
                <p class="text-gray-600 max-w-2xl mx-auto mt-2">A durable financial strategy isn't a "glitch." It's built on proven principles of risk management and prudence.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-6 bg-gray-50 rounded-lg">
                    <h3 class="text-xl font-bold mb-3">Pillar 1: Robust Risk Management</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start"><span class="text-green-500 font-bold mr-3">✓</span><span><strong>Diversify:</strong> Don't put all your capital in one volatile asset.</span></li>
                        <li class="flex items-start"><span class="text-green-500 font-bold mr-3">✓</span><span><strong>Position Sizing:</strong> Never risk more than 1-2% of your total capital on a single trade.</span></li>
                        <li class="flex items-start"><span class="text-green-500 font-bold mr-3">✓</span><span><strong>Use Stop-Loss Orders:</strong> Automatically cap your losses to prevent catastrophic events.</span></li>
                    </ul>
                </div>
                <div class="p-6 bg-gray-50 rounded-lg">
                    <h3 class="text-xl font-bold mb-3">Pillar 2: Prudent Debt Use</h3>
                     <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start"><span class="text-green-500 font-bold mr-3">✓</span><span><strong>Understand LTV:</strong> If borrowing against assets, use low Loan-to-Value ratios to avoid liquidation.</span></li>
                        <li class="flex items-start"><span class="text-green-500 font-bold mr-3">✓</span><span><strong>Avoid Over-Leveraging:</strong> High leverage is a recipe for disaster in volatile markets.</span></li>
                        <li class="flex items-start"><span class="text-green-500 font-bold mr-3">✓</span><span><strong>Plan for Repayments:</strong> Ensure you can comfortably make repayments from income, even if the investment fails.</span></li>
                    </ul>
                </div>
                <div class="p-6 bg-gray-50 rounded-lg">
                    <h3 class="text-xl font-bold mb-3">Pillar 3: A Real Emergency Fund</h3>
                    <p class="text-gray-600 mb-4">The guide's 1-2 month recommendation is dangerously low. A proper fund prevents forced selling during emergencies.</p>
                    <div class="chart-container h-48"><canvas id="emergencyFundChart"></canvas></div>
                </div>
            </div>
        </section>

        <section id="calculator-section" class="mb-16 md:mb-24 bg-white p-6 md:p-8 rounded-2xl shadow-xl">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">M.A.T.L. BTC Calculator</h2>
                <p class="text-gray-600 max-w-2xl mx-auto mt-2">This interactive calculator allows you to test various scenarios for the "Infinite Money Glitch" strategy. Please use the tabs at the bottom of the embedded sheet to navigate between 'Inputs', 'Scenarios', and 'BreakEven'.</p>
            </div>
            <div class="flex justify-center mb-8">
                <iframe class="calculator-iframe" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRqGz3z18zLxihDy4uy8EECeZHMLkTyHVuu4xAN1y3ylGpKoa8ELscPQdBx0O3hcecS3yNmjkjy6HxI/pubhtml?widget=true&amp;headers=false"></iframe>
            </div>
            <div class="max-w-3xl mx-auto">
                <h3 class="text-xl font-bold mb-3">How to use the calculator:</h3>
                <h4 class="font-semibold text-gray-700 mb-2">Three sheets: Inputs, Scenarios, BreakEven.</h4>
                <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
                    <li>**Fill Inputs:** In column B, set: principal, APR, term in years, starting BTC price, buy fee, sell fee, tax rate.</li>
                    <li>The last three rows on Inputs fill themselves: BTC bought, cost basis per BTC, amount to repay at horizon.</li>
                </ul>
                <h4 class="font-semibold text-gray-700 mb-2">View scenarios</h4>
                <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
                    <li>Go to Scenarios.</li>
                    <li>Column A holds price changes, for example 0.2 means plus 20 percent.</li>
                    <li>Edit or add rows in column A only. All other columns calculate automatically.</li>
                </ul>
                <h4 class="font-semibold text-gray-700 mb-2">Read the outputs</h4>
                <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
                    <li>**External_cash_needed:** cash you must add at the horizon to repay in full, pounds.</li>
                    <li>**Able_to_repay:** TRUE means the BTC sale at that end price covers the repayment in full.</li>
                    <li>**BTC_remaining** and **Value_remaining:** what you keep after repaying.</li>
                    <li>**Total_fees_est:** estimates buy and sell fees for that scenario.</li>
                    <li>**Interest_paid:** interest on the loan over the horizon.</li>
                </ul>
                <h4 class="font-semibold text-gray-700 mb-2">Check break-even</h4>
                <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
                    <li>Go to BreakEven.</li>
                    <li>**BreakEven_End_Price:** the BTC price that lets you sell all your BTC, repay in full, and end with zero BTC.</li>
                    <li>**BreakEven_Change_pct:** the price change needed versus your starting price.</li>
                </ul>
                <h4 class="font-semibold text-gray-700 mb-2">Customise</h4>
                <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
                    <li>To change your platform fees or tax rate, update Inputs, column B. All sheets update.</li>
                    <li>To explore larger moves, add more rows in Scenarios, copy the percentage pattern in column A.</li>
                </ul>
                <h4 class="font-semibold text-gray-700 mb-2">Sanity tests</h4>
                <ul class="list-disc list-inside space-y-2 text-gray-700 mb-6">
                    <li>Set buy fee, sell fee, and tax to zero, the break-even change should drop close to the interest rate effect only.</li>
                    <li>Double the starting price in Scenarios, Able_to_repay should be TRUE and you should retain some BTC.</li>
                </ul>
                <h4 class="font-semibold text-gray-700 mb-2">Quick usage tips</h4>
                <ul class="list-disc list-inside space-y-2 text-gray-700">
                    <li>**Horizon matters:** match the loan term to your scenario horizon.</li>
                    <li>**Costs matter:** do not zero fees and tax in your live plan.</li>
                    <li>**Funding plan:** if External_cash_needed is large in plausible down scenarios, reduce borrowed size or extend the horizon.</li>
                    <li>**Record keeping:** after each real trade, update Inputs and your own trade log, including fees.</li>
                </ul>
            </div>
        </section>

    </main>

    <footer class="text-center mt-16 md:mt-24 py-8 border-t border-gray-200">
        <p class="text-gray-500 text-sm max-w-3xl mx-auto px-4">This application is an independent analysis for educational purposes and does not constitute financial advice. The M.A.T.L. strategy involves high-risk, leveraged investment in volatile assets. Always conduct your own thorough research and consult a qualified financial professional.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const btcPerformanceSlider = document.getElementById('btcPerformance');
            const loanAprSlider = document.getElementById('loanApr');
            const includeFeesCheckbox = document.getElementById('includeFees');
            const includeTaxCheckbox = document.getElementById('includeTax');

            const btcPerformanceValue = document.getElementById('btcPerformanceValue');
            const loanAprValue = document.getElementById('loanAprValue');
            const profitResultDiv = document.getElementById('profitResult');

            const initialLoan = 1000;
            const transactionFeeRate = 0.005; 
            const cgtAllowance = 3000;
            const cgtRate = 0.10; 

            let scenarioChart;

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                return Array.isArray(label) ? label.join(' ') : label;
            };

            const defaultChartOptions = {
                maintainAspectRatio: false,
                responsive: true,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: { title: tooltipTitleCallback },
                        backgroundColor: '#333',
                        titleFont: { size: 14 },
                        bodyFont: { size: 12 },
                        padding: 10,
                        cornerRadius: 4,
                    }
                },
                scales: {
                    y: {
                        ticks: { color: '#6B7280' },
                        grid: { color: '#E5E7EB' }
                    },
                    x: {
                        ticks: { color: '#6B7280' },
                        grid: { display: false }
                    }
                }
            };

            function updateScenario() {
                const btcPerf = parseInt(btcPerformanceSlider.value);
                const loanApr = parseFloat(loanAprSlider.value);
                const includeFees = includeFeesCheckbox.checked;
                const includeTax = includeTaxCheckbox.checked;

                btcPerformanceValue.textContent = btcPerf;
                loanAprValue.textContent = loanApr.toFixed(1);

                const loanRepayment = initialLoan * (1 + loanApr / 100);
                const btcValueAfterGrowth = initialLoan * (1 + btcPerf / 100);
                
                let grossProfit = btcValueAfterGrowth - initialLoan;
                if (grossProfit < 0) grossProfit = 0;

                const fees = includeFees ? (initialLoan * transactionFeeRate) + (btcValueAfterGrowth * transactionFeeRate) : 0;
                
                const taxableGain = Math.max(0, grossProfit - fees);
                const cgtPayable = includeTax && taxableGain > cgtAllowance ? (taxableGain - cgtAllowance) * cgtRate : 0;

                const totalCosts = (loanRepayment - initialLoan) + fees + cgtPayable;
                const netProfit = btcValueAfterGrowth - initialLoan - totalCosts;

                const data = {
                    initialCapital: initialLoan,
                    growth: btcValueAfterGrowth - initialLoan,
                    loanCost: loanRepayment - initialLoan,
                    fees: fees,
                    tax: cgtPayable,
                    netProfit: netProfit
                };

                updateScenarioChart(data);
                updateProfitResult(netProfit);
            }

            function updateProfitResult(netProfit) {
                if (netProfit >= 0) {
                    profitResultDiv.className = 'mt-4 text-center text-2xl md:text-3xl font-bold p-4 rounded-lg bg-green-100 text-green-800';
                    profitResultDiv.textContent = `Net Profit: £${netProfit.toFixed(2)}`;
                } else {
                    profitResultDiv.className = 'mt-4 text-center text-2xl md:text-3xl font-bold p-4 rounded-lg bg-red-100 text-red-800';
                    profitResultDiv.textContent = `Net Loss: £${Math.abs(netProfit).toFixed(2)}`;
                }
            }

            function updateScenarioChart(data) {
                const chartData = {
                    labels: ['Initial Capital', 'BTC Growth', 'Loan Interest', 'Fees', 'Tax', 'Net Result'],
                    datasets: [{
                        label: 'Amount (£)',
                        data: [
                            data.initialCapital,
                            data.growth,
                            -data.loanCost,
                            -data.fees,
                            -data.tax,
                            data.netProfit
                        ],
                        backgroundColor: [
                            '#3B82F6', // Blue
                            '#10B981', // Green
                            '#EF4444', // Red
                            '#F97316', // Orange
                            '#8B5CF6', // Purple
                            data.netProfit >= 0 ? '#22C55E' : '#DC2626' // Final Profit/Loss
                        ],
                        borderRadius: 4
                    }]
                };

                if (scenarioChart) {
                    scenarioChart.data = chartData;
                    scenarioChart.update();
                } else {
                    scenarioChart = new Chart(document.getElementById('scenarioChart'), {
                        type: 'bar',
                        data: chartData,
                        options: {
                            ...defaultChartOptions,
                            indexAxis: 'y',
                        }
                    });
                }
            }

            function initOtherCharts() {
                new Chart(document.getElementById('volatilityChart'), {
                    type: 'line',
                    data: {
                        labels: ['Start', 'Market Up', 'Market Down'],
                        datasets: [{
                            label: 'Leveraged Investment',
                            data: [1000, 1600, 400],
                            borderColor: '#EF4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            fill: true,
                            tension: 0.1
                        }, {
                            label: 'Unleveraged Investment',
                            data: [1000, 1300, 700],
                            borderColor: '#3B82F6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true,
                            tension: 0.1
                        }]
                    },
                    options: {...defaultChartOptions, plugins: {...defaultChartOptions.plugins, legend: {display: true, labels: {color: '#333'}}}}
                });

                new Chart(document.getElementById('loanRatesChart'), {
                    type: 'bar',
                    data: {
                        labels: ['£1k-£3k Loan', '£7.5k-£20k Loan', "Guide's Example"],
                        datasets: [{
                            label: 'Representative APR (%)',
                            data: [14.9, 5.9, 6.0],
                            backgroundColor: ['#EF4444', '#3B82F6', '#10B981'],
                        }]
                    },
                    options: defaultChartOptions
                });
                
                new Chart(document.getElementById('taxImpactChart'), {
                    type: 'doughnut',
                    data: {
                        labels: ["Gross Profit", "Capital Gains Tax"],
                        datasets: [{
                            data: [540, 54],
                            backgroundColor: ['#10B981', '#EF4444'],
                            borderColor: '#F8F7F4',
                            borderWidth: 4,
                        }]
                    },
                    options: {...defaultChartOptions, plugins: {...defaultChartOptions.plugins, legend: {display: true, position: 'bottom', labels: {color: '#333'}}}}
                });

                new Chart(document.getElementById('emergencyFundChart'), {
                    type: 'bar',
                    data: {
                        labels: ["Guide's Rec.", "Expert Rec."],
                        datasets: [{
                            label: 'Months of Expenses',
                            data: [1.5, 4.5],
                            backgroundColor: ['#F97316', '#22C55E'],
                            barPercentage: 0.6,
                            categoryPercentage: 0.7
                        }]
                    },
                    options: {...defaultChartOptions, indexAxis: 'y'}
                });
            }

            btcPerformanceSlider.addEventListener('input', updateScenario);
            loanAprSlider.addEventListener('input', updateScenario);
            includeFeesCheckbox.addEventListener('change', updateScenario);
            includeTaxCheckbox.addEventListener('change', updateScenario);

            updateScenario();
            initOtherCharts();
        });
    </script>
</body>
</html>
